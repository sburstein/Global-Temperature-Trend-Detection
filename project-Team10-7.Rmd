---
title: "Project - Team 10-7"
author: "The Outliers: Morgan Pruchniewski, Scott Burstein, Katie Zhou"
date: "10/6/2020"
output: 
  pdf_document: default
  html_document: default
---

```{r setup, message = FALSE, warning = FALSE}
library(tidyverse) 
library(lubridate)
```

Source of the Data: We downloaded the data from Kaggle, but the data was originally compiled by the Berkeley Earth Data Lab.

When and How It Was Originally Collected: The Berkeley Earth Data Page collected the data from 16 pre-existing archives. It was updated to Kaggle in 2017.

We tentatively plan to interpolate these time-series datasets with other datasets in order to draw even more interesting conclusions, potentially regarding the correlation between global warming and the prevalence of natural disasters. 

###The Cases:

(By Time and Location (for `GlobalLandTemperaturesByMajorCity`))
Each observation in `GlobalLandTemperaturesByMajorCity` is a city and its respective land temperature, coordinates, and Country, which will be used to investigate changes in climate over time. There are 239,177 rows in the major city dataset. 

(By Time (for `GlobalLandTemperaturesByMajorCity`))
Each observation in `GlobalTemperatures` is a numeric date/time value (described below) and its respective land temperature, max temperature, min temperature, ocean temperature, and relevant uncertainties to said variables, which will be used to investigate changes in climate over time. There are 239,177 rows in the global dataset. 

###Relevant Variables:

The relevant variables in the `major_city` dataset include dt (date and time of the recorded temperature, a discrete numeric), AverageTemperature (the average temperature for each city, a continuous numeric), city (nominal categorical), country (nominal categorical), latitude (continuous numeric), and longitude (continuous numeric).

The relevant variables in the `global` dataset include dt (date and time of the recorded temperature, a discrete numeric), LandAverageTemperature (the average global land temperature at that time, continuous numeric), LandMaxTemperature (the highest recorded land temperature of that year, a continuous numeric), LandMinTemperature (the lowest recorded land temperature of that year, a continous numeric), and LandAndOceanAverageTemperature (the average of land and ocean temperature averages for that year, a continuous numeric).

```{r read-in-data, message = FALSE}
#read in datasets
major_city <- read_csv("data/GlobalLandTemperaturesByMajorCity.csv")
global <- read_csv("data/GlobalTemperatures.csv")

```

#Research Question:
Is there significant support for rising earth surface temperatures, and if so, how has the rate of change in temperatures fluctuated over time?

How do the changes in earth surface temperature differ geographically, and are there regions where climate change seems to have a greater effect?

```{r add-season}
global <- global %>%
  mutate(month = month(dt),
         season = case_when(
           month < 3 | month == 12 ~ "winter",
           month >= 3 & month < 6 ~ "spring",
           month >=6 & month < 9 ~ "summer",
           month >= 9 & month < 12 ~ "autumn"
         )) 

major_city <- major_city %>%
  mutate(month = month(dt),
         season = case_when(
           month < 3 | month == 12 ~ "winter",
           month >= 3 & month < 6 ~ "spring",
           month >=6 & month < 9 ~ "summer",
           month >= 9 & month < 12 ~ "autumn"
         )) 

```


```{r general-visualizations}
ggplot(data=global, aes(
  x=dt, y=LandAverageTemperature
)) +
  geom_point(aes(color=season)) + 
  labs(title = "Global average land temperature since 1750",
       x = "Year",
       y = "Average Land Temp.")

```
Based on this initial visualization, there seems to be a higher and more variable average land temperature in the data before 1800. 
Overall, across all seasons, there seems to be an increasing trend in average land temperature after roughly 1975. 


```{r}

```


